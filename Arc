import java.io.*;
import java.util.*;

public class Arc {
    public String nom;
    public Boolean demande;
    public Boulevard Boulevardprec;
    public Boulevard Boulevardsuiv;

    int temps;
    int tonne;
    Boolean simpleEtSensDouble;

    public static void main(String[] args){
        LectureDoc doc = new LectureDoc() ;
        HashMap<String,Boulevard> ville = doc.ouvrirFichierH2();
        Boulevard b = new Boulevard();
        //b.afficherListe(boulevard);

        Entreprise e = new Entreprise();

        //e.GenerationDemande(boulevard);
        //e.GenerationDemande(boulevard);
        //Intersection187;Rue des Bouquetins;
        Boulevard bdestination = ville.get("Intersection187");
        Boulevard bdestination2 = ville.get("Intersection256");
        Boulevard bdestination3 = ville.get("Intersection3005");
        Boulevard bdestination4 = ville.get("Intersection1643");

        Arc rueChoisie = null;
        Arc rueChoisie2 = null;
        Arc rueChoisie3 = null;
        Arc rueChoisie4 = null;

        for (Arc a : bdestination.arc) {
            if (a.nom.equals("Rue des Chasseurs")) {
                rueChoisie = a;
                break;
            }
        }

        for (Arc a : bdestination2.arc) {
            if (a.nom.equals("Avenue de la Liberté")) {
                rueChoisie2 = a;
                break;
            }
        }

        for (Arc a : bdestination3.arc) {
            if (a.nom.equals("Boulevard de l’Aéroport International")) {
                rueChoisie3 = a;
                break;
            }
        }

        for (Arc a : bdestination4.arc) {
            if (a.nom.equals("Place de la Canourgue")) {
                rueChoisie4 = a;
                break;
            }
        }

        if (rueChoisie != null) {
            rueChoisie.demande = true;
        } else {
            System.out.println("Rue non trouvée !");
        }

        /*
        rueChoisie2.demande = true;
        rueChoisie3.demande = true;
        rueChoisie4.demande = true;

         */

        //e.GenerationDemande(boulevard);
        //e.AfficherDemandes(ville);
        //Boulevard source = boulevard.get("Nation");
        //Boulevard source = ville.get("Intersection0");

        //Boulevard destination = e.retournerDemande(boulevard);
        //e.Parcours(ville, source);

        //e.AfficherDemandes(ville);
        //e.dijkstra(boulevard, source);
        //e.afficherChemin(destination);

        e.GenererPointCollecte(ville);
        Boulevard depot = ville.get("Intersection0"); // à adapter à ton vrai centre
        ArrayList<String> tournee = e.tourneeMST(ville, depot);

        System.out.println("Tournée MST :");
        for (String s : tournee) {
            System.out.println(s);
        }
    }

    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;
        Arc arc = (Arc) o;
        return Objects.equals(nom, arc.nom) &&
                Objects.equals(Boulevardprec, arc.Boulevardprec) &&
                Objects.equals(Boulevardsuiv, arc.Boulevardsuiv);
    }

    @Override
    public int hashCode() {
        return Objects.hash(nom, Boulevardprec, Boulevardsuiv);
    }

}
